{"ast":null,"code":"let fs = require('fs');\n\nlet Q = require('q');\n\ndesc('The default t.');\ntask('default', function () {\n  console.log('default task');\n});\ndesc('No action.');\ntask({\n  'noAction': ['default']\n});\ndesc('No action, no prereqs.');\ntask('noActionNoPrereqs');\ndesc('Top-level zerbofrangazoomy task');\ntask('zerbofrangazoomy', function () {\n  console.log('Whaaaaaaaa? Ran the zerbofrangazoomy task!');\n});\ndesc('Task that throws');\ntask('throwy', function () {\n  let errorListener = function (err) {\n    console.log('Emitted');\n    console.log(err.toString());\n    jake.removeListener('error', errorListener);\n  };\n\n  jake.on('error', errorListener);\n  throw new Error('I am bad');\n});\ndesc('Task that rejects a Promise');\ntask('promiseRejecter', function () {\n  const originalOption = jake.program.opts['allow-rejection'];\n\n  const errorListener = function (err) {\n    console.log(err.toString());\n    jake.removeListener('error', errorListener);\n    jake.program.opts['allow-rejection'] = originalOption; // Restore original 'allow-rejection' option\n  };\n\n  jake.on('error', errorListener);\n  jake.program.opts['allow-rejection'] = false; // Do not allow rejection so the rejection is passed to error handlers\n\n  Promise.reject('<promise rejected on purpose>');\n});\ndesc('Accepts args and env vars.');\ntask('argsEnvVars', function () {\n  let res = {\n    args: arguments,\n    env: {\n      foo: process.env.foo,\n      baz: process.env.baz\n    }\n  };\n  console.log(JSON.stringify(res));\n});\nnamespace('foo', function () {\n  desc('The foo:bar t.');\n  task('bar', function () {\n    if (arguments.length) {\n      console.log('foo:bar[' + Array.prototype.join.call(arguments, ',') + '] task');\n    } else {\n      console.log('foo:bar task');\n    }\n  });\n  desc('The foo:baz task, calls foo:bar as a prerequisite.');\n  task('baz', ['foo:bar'], function () {\n    console.log('foo:baz task');\n  });\n  desc('The foo:qux task, calls foo:bar with cmdline args as a prerequisite.');\n  task('qux', ['foo:bar[asdf,qwer]'], function () {\n    console.log('foo:qux task');\n  });\n  desc('The foo:frang task,`invokes` foo:bar with passed args as a prerequisite.');\n  task('frang', function () {\n    let t = jake.Task['foo:bar']; // Do args pass-through\n\n    t.invoke.apply(t, arguments);\n    t.on('complete', () => {\n      console.log('foo:frang task');\n    });\n  });\n  desc('The foo:zerb task, `executes` foo:bar with passed args as a prerequisite.');\n  task('zerb', function () {\n    let t = jake.Task['foo:bar']; // Do args pass-through\n\n    t.execute.apply(t, arguments);\n    t.on('complete', () => {\n      console.log('foo:zerb task');\n    });\n  });\n  desc('The foo:zoobie task, has no prerequisites.');\n  task('zoobie', function () {\n    console.log('foo:zoobie task');\n  });\n  desc('The foo:voom task, run the foo:zoobie task repeatedly.');\n  task('voom', function () {\n    let t = jake.Task['foo:bar'];\n    t.on('complete', function () {\n      console.log('complete');\n    });\n    t.execute.apply(t);\n    t.execute.apply(t);\n  });\n  desc('The foo:asdf task, has the same prereq twice.');\n  task('asdf', ['foo:bar', 'foo:baz'], function () {\n    console.log('foo:asdf task');\n  });\n});\nnamespace('bar', function () {\n  desc('The bar:foo task, has no prerequisites, is async, returns Promise which resolves.');\n  task('foo', async function () {\n    return new Promise((resolve, reject) => {\n      console.log('bar:foo task');\n      resolve();\n    });\n  });\n  desc('The bar:promise task has no prerequisites, is async, returns Q-based promise.');\n  task('promise', function () {\n    return Q().then(function () {\n      console.log('bar:promise task');\n      return 123654;\n    });\n  });\n  desc('The bar:dependOnpromise task waits for a promise based async test');\n  task('dependOnpromise', ['promise'], function () {\n    console.log('bar:dependOnpromise task saw value', jake.Task[\"bar:promise\"].value);\n  });\n  desc('The bar:brokenPromise task is a failing Q-promise based async task.');\n  task('brokenPromise', function () {\n    return Q().then(function () {\n      throw new Error(\"nom nom nom\");\n    });\n  });\n  desc('The bar:bar task, has the async bar:foo task as a prerequisite.');\n  task('bar', ['bar:foo'], function () {\n    console.log('bar:bar task');\n  });\n});\nnamespace('hoge', function () {\n  desc('The hoge:hoge task, has no prerequisites.');\n  task('hoge', function () {\n    console.log('hoge:hoge task');\n  });\n  desc('The hoge:piyo task, has no prerequisites.');\n  task('piyo', function () {\n    console.log('hoge:piyo task');\n  });\n  desc('The hoge:fuga task, has hoge:hoge and hoge:piyo as prerequisites.');\n  task('fuga', ['hoge:hoge', 'hoge:piyo'], function () {\n    console.log('hoge:fuga task');\n  });\n  desc('The hoge:charan task, has hoge:fuga as a prerequisite.');\n  task('charan', ['hoge:fuga'], function () {\n    console.log('hoge:charan task');\n  });\n  desc('The hoge:gero task, has hoge:fuga as a prerequisite.');\n  task('gero', ['hoge:fuga'], function () {\n    console.log('hoge:gero task');\n  });\n  desc('The hoge:kira task, has hoge:charan and hoge:gero as prerequisites.');\n  task('kira', ['hoge:charan', 'hoge:gero'], function () {\n    console.log('hoge:kira task');\n  });\n});\nnamespace('fileTest', function () {\n  directory('foo');\n  desc('File task, concatenating two files together');\n  file('foo/concat.txt', ['fileTest:foo', 'fileTest:foo/src1.txt', 'fileTest:foo/src2.txt'], function () {\n    console.log('fileTest:foo/concat.txt task');\n    let data1 = fs.readFileSync('foo/src1.txt');\n    let data2 = fs.readFileSync('foo/src2.txt');\n    fs.writeFileSync('foo/concat.txt', data1 + data2);\n  });\n  desc('File task, async creation with writeFile');\n  file('foo/src1.txt', function () {\n    return new Promise(function (resolve, reject) {\n      fs.writeFile('foo/src1.txt', 'src1', function (err) {\n        if (err) {\n          reject(err);\n        } else {\n          console.log('fileTest:foo/src1.txt task');\n          resolve();\n        }\n      });\n    });\n  });\n  desc('File task, sync creation with writeFileSync');\n  file('foo/src2.txt', ['default'], function () {\n    fs.writeFileSync('foo/src2.txt', 'src2');\n    console.log('fileTest:foo/src2.txt task');\n  });\n  desc('File task, do not run unless the prereq file changes');\n  file('foo/from-src1.txt', ['fileTest:foo', 'fileTest:foo/src1.txt'], function () {\n    let data = fs.readFileSync('foo/src1.txt').toString();\n    fs.writeFileSync('foo/from-src1.txt', data);\n    console.log('fileTest:foo/from-src1.txt task');\n  });\n  desc('File task, run if the prereq file changes');\n  task('touch-prereq', function () {\n    fs.writeFileSync('foo/prereq.txt', 'UPDATED');\n  });\n  desc('File task, has a preexisting file (with no associated task) as a prereq');\n  file('foo/from-prereq.txt', ['fileTest:foo', 'foo/prereq.txt'], function () {\n    let data = fs.readFileSync('foo/prereq.txt');\n    fs.writeFileSync('foo/from-prereq.txt', data);\n    console.log('fileTest:foo/from-prereq.txt task');\n  });\n  directory('foo/bar/baz');\n  desc('Write a file in a nested subdirectory');\n  file('foo/bar/baz/bamf.txt', ['foo/bar/baz'], function () {\n    fs.writeFileSync('foo/bar/baz/bamf.txt', 'w00t');\n  });\n});\ntask('blammo'); // Define task\n\ntask('voom', ['blammo'], function () {\n  console.log(this.prereqs.length);\n}); // Modify, add a prereq\n\ntask('voom', ['noActionNoPrereqs']);\nnamespace('vronk', function () {\n  task('groo', function () {\n    let t = jake.Task['vronk:zong'];\n    t.addListener('error', function (e) {\n      console.log(e.message);\n    });\n    t.invoke();\n  });\n  task('zong', function () {\n    throw new Error('OMFGZONG');\n  });\n}); // define namespace\n\nnamespace('one', function () {\n  task('one', function () {\n    console.log('one:one');\n  });\n}); // modify namespace (add task)\n\nnamespace('one', function () {\n  task('two', ['one:one'], function () {\n    console.log('one:two');\n  });\n});\ntask('selfdepconst', [], function () {\n  task('selfdep', ['selfdep'], function () {\n    console.log(\"I made a task that depends on itself\");\n  });\n});\ntask('selfdepdyn', function () {\n  task('selfdeppar', [], {\n    concurrency: 2\n  }, function () {\n    console.log(\"I will depend on myself and will fail at runtime\");\n  });\n  task('selfdeppar', ['selfdeppar']);\n  jake.Task['selfdeppar'].invoke();\n});\nnamespace(\"large\", function () {\n  task(\"leaf\", function () {\n    console.log(\"large:leaf\");\n  });\n  const same = [];\n\n  for (let i = 0; i < 2000; i++) {\n    same.push(\"leaf\");\n  }\n\n  desc(\"Task with a large number of same prereqs\");\n  task(\"same\", same, {\n    concurrency: 2\n  }, function () {\n    console.log(\"large:same\");\n  });\n  const different = [];\n\n  for (let i = 0; i < 2000; i++) {\n    const name = \"leaf-\" + i;\n    task(name, function () {\n      if (name === \"leaf-12\" || name === \"leaf-123\") {\n        console.log(name);\n      }\n    });\n    different.push(name);\n  }\n\n  desc(\"Task with a large number of different prereqs\");\n  task(\"different\", different, {\n    concurrency: 2\n  }, function () {\n    console.log(\"large:different\");\n  });\n});","map":{"version":3,"sources":["C:/Users/anafe/OneDrive/Documentos/projeto_com_react2/src/backend/node/node_modules/jake/test/integration/jakefile.js"],"names":["fs","require","Q","desc","task","console","log","errorListener","err","toString","jake","removeListener","on","Error","originalOption","program","opts","Promise","reject","res","args","arguments","env","foo","process","baz","JSON","stringify","namespace","length","Array","prototype","join","call","t","Task","invoke","apply","execute","resolve","then","value","directory","file","data1","readFileSync","data2","writeFileSync","writeFile","data","prereqs","addListener","e","message","concurrency","same","i","push","different","name"],"mappings":"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","sourcesContent":["let fs = require('fs');\nlet Q = require('q');\n\ndesc('The default t.');\ntask('default', function () {\n  console.log('default task');\n});\n\ndesc('No action.');\ntask({'noAction': ['default']});\n\ndesc('No action, no prereqs.');\ntask('noActionNoPrereqs');\n\ndesc('Top-level zerbofrangazoomy task');\ntask('zerbofrangazoomy', function () {\n  console.log('Whaaaaaaaa? Ran the zerbofrangazoomy task!')\n});\n\ndesc('Task that throws');\ntask('throwy', function () {\n  let errorListener = function (err) {\n    console.log('Emitted');\n    console.log(err.toString());\n\n    jake.removeListener('error', errorListener);\n  };\n\n  jake.on('error', errorListener);\n\n  throw new Error('I am bad');\n});\n\ndesc('Task that rejects a Promise');\ntask('promiseRejecter', function () {\n  const originalOption = jake.program.opts['allow-rejection'];\n\n  const errorListener = function (err) {\n    console.log(err.toString());\n    jake.removeListener('error', errorListener);\n    jake.program.opts['allow-rejection'] = originalOption; // Restore original 'allow-rejection' option\n  };\n  jake.on('error', errorListener);\n\n  jake.program.opts['allow-rejection'] = false; // Do not allow rejection so the rejection is passed to error handlers\n\n  Promise.reject('<promise rejected on purpose>');\n});\n\ndesc('Accepts args and env vars.');\ntask('argsEnvVars', function () {\n  let res = {\n    args: arguments\n    , env: {\n      foo: process.env.foo\n      , baz: process.env.baz\n    }\n  };\n  console.log(JSON.stringify(res));\n});\n\nnamespace('foo', function () {\n  desc('The foo:bar t.');\n  task('bar', function () {\n    if (arguments.length) {\n      console.log('foo:bar[' +\n          Array.prototype.join.call(arguments, ',') +\n          '] task');\n    }\n    else {\n      console.log('foo:bar task');\n    }\n  });\n\n  desc('The foo:baz task, calls foo:bar as a prerequisite.');\n  task('baz', ['foo:bar'], function () {\n    console.log('foo:baz task');\n  });\n\n  desc('The foo:qux task, calls foo:bar with cmdline args as a prerequisite.');\n  task('qux', ['foo:bar[asdf,qwer]'], function () {\n    console.log('foo:qux task');\n  });\n\n  desc('The foo:frang task,`invokes` foo:bar with passed args as a prerequisite.');\n  task('frang', function () {\n    let t = jake.Task['foo:bar'];\n    // Do args pass-through\n    t.invoke.apply(t, arguments);\n    t.on('complete', () => {\n      console.log('foo:frang task');\n    });\n  });\n\n  desc('The foo:zerb task, `executes` foo:bar with passed args as a prerequisite.');\n  task('zerb', function () {\n    let t = jake.Task['foo:bar'];\n    // Do args pass-through\n    t.execute.apply(t, arguments);\n    t.on('complete', () => {\n      console.log('foo:zerb task');\n    });\n  });\n\n  desc('The foo:zoobie task, has no prerequisites.');\n  task('zoobie', function () {\n    console.log('foo:zoobie task');\n  });\n\n  desc('The foo:voom task, run the foo:zoobie task repeatedly.');\n  task('voom', function () {\n    let t = jake.Task['foo:bar'];\n    t.on('complete', function () {\n      console.log('complete');\n    });\n    t.execute.apply(t);\n    t.execute.apply(t);\n  });\n\n  desc('The foo:asdf task, has the same prereq twice.');\n  task('asdf', ['foo:bar', 'foo:baz'], function () {\n    console.log('foo:asdf task');\n  });\n\n});\n\nnamespace('bar', function () {\n  desc('The bar:foo task, has no prerequisites, is async, returns Promise which resolves.');\n  task('foo', async function () {\n    return new Promise((resolve, reject) => {\n      console.log('bar:foo task');\n      resolve();\n    });\n  });\n\n  desc('The bar:promise task has no prerequisites, is async, returns Q-based promise.');\n  task('promise', function () {\n    return Q()\n      .then(function () {\n        console.log('bar:promise task');\n        return 123654;\n      });\n  });\n\n  desc('The bar:dependOnpromise task waits for a promise based async test');\n  task('dependOnpromise', ['promise'], function () {\n    console.log('bar:dependOnpromise task saw value', jake.Task[\"bar:promise\"].value);\n  });\n\n  desc('The bar:brokenPromise task is a failing Q-promise based async task.');\n  task('brokenPromise', function () {\n    return Q()\n      .then(function () {\n        throw new Error(\"nom nom nom\");\n      });\n  });\n\n  desc('The bar:bar task, has the async bar:foo task as a prerequisite.');\n  task('bar', ['bar:foo'], function () {\n    console.log('bar:bar task');\n  });\n\n});\n\nnamespace('hoge', function () {\n  desc('The hoge:hoge task, has no prerequisites.');\n  task('hoge', function () {\n    console.log('hoge:hoge task');\n  });\n\n  desc('The hoge:piyo task, has no prerequisites.');\n  task('piyo', function () {\n    console.log('hoge:piyo task');\n  });\n\n  desc('The hoge:fuga task, has hoge:hoge and hoge:piyo as prerequisites.');\n  task('fuga', ['hoge:hoge', 'hoge:piyo'], function () {\n    console.log('hoge:fuga task');\n  });\n\n  desc('The hoge:charan task, has hoge:fuga as a prerequisite.');\n  task('charan', ['hoge:fuga'], function () {\n    console.log('hoge:charan task');\n  });\n\n  desc('The hoge:gero task, has hoge:fuga as a prerequisite.');\n  task('gero', ['hoge:fuga'], function () {\n    console.log('hoge:gero task');\n  });\n\n  desc('The hoge:kira task, has hoge:charan and hoge:gero as prerequisites.');\n  task('kira', ['hoge:charan', 'hoge:gero'], function () {\n    console.log('hoge:kira task');\n  });\n\n});\n\nnamespace('fileTest', function () {\n  directory('foo');\n\n  desc('File task, concatenating two files together');\n  file('foo/concat.txt', ['fileTest:foo', 'fileTest:foo/src1.txt', 'fileTest:foo/src2.txt'], function () {\n    console.log('fileTest:foo/concat.txt task');\n    let data1 = fs.readFileSync('foo/src1.txt');\n    let data2 = fs.readFileSync('foo/src2.txt');\n    fs.writeFileSync('foo/concat.txt', data1 + data2);\n  });\n\n  desc('File task, async creation with writeFile');\n  file('foo/src1.txt', function () {\n    return new Promise(function (resolve, reject) {\n      fs.writeFile('foo/src1.txt', 'src1', function (err) {\n        if (err) {\n          reject(err);\n        }\n        else {\n          console.log('fileTest:foo/src1.txt task');\n          resolve();\n        }\n      });\n    });\n  });\n\n  desc('File task, sync creation with writeFileSync');\n  file('foo/src2.txt', ['default'], function () {\n    fs.writeFileSync('foo/src2.txt', 'src2');\n    console.log('fileTest:foo/src2.txt task');\n  });\n\n  desc('File task, do not run unless the prereq file changes');\n  file('foo/from-src1.txt', ['fileTest:foo', 'fileTest:foo/src1.txt'], function () {\n    let data = fs.readFileSync('foo/src1.txt').toString();\n    fs.writeFileSync('foo/from-src1.txt', data);\n    console.log('fileTest:foo/from-src1.txt task');\n  });\n\n  desc('File task, run if the prereq file changes');\n  task('touch-prereq', function () {\n    fs.writeFileSync('foo/prereq.txt', 'UPDATED');\n  })\n\n  desc('File task, has a preexisting file (with no associated task) as a prereq');\n  file('foo/from-prereq.txt', ['fileTest:foo', 'foo/prereq.txt'], function () {\n    let data = fs.readFileSync('foo/prereq.txt');\n    fs.writeFileSync('foo/from-prereq.txt', data);\n    console.log('fileTest:foo/from-prereq.txt task');\n  });\n\n  directory('foo/bar/baz');\n\n  desc('Write a file in a nested subdirectory');\n  file('foo/bar/baz/bamf.txt', ['foo/bar/baz'], function () {\n    fs.writeFileSync('foo/bar/baz/bamf.txt', 'w00t');\n  });\n\n});\n\ntask('blammo');\n// Define task\ntask('voom', ['blammo'], function () {\n  console.log(this.prereqs.length);\n});\n\n// Modify, add a prereq\ntask('voom', ['noActionNoPrereqs']);\n\nnamespace('vronk', function () {\n  task('groo', function () {\n    let t = jake.Task['vronk:zong'];\n    t.addListener('error', function (e) {\n      console.log(e.message);\n    });\n    t.invoke();\n  });\n  task('zong', function () {\n    throw new Error('OMFGZONG');\n  });\n});\n\n// define namespace\nnamespace('one', function () {\n  task('one', function () {\n    console.log('one:one');\n  });\n});\n\n// modify namespace (add task)\nnamespace('one', function () {\n  task('two', ['one:one'], function () {\n    console.log('one:two');\n  });\n});\n\ntask('selfdepconst', [], function () {\n  task('selfdep', ['selfdep'], function () {\n    console.log(\"I made a task that depends on itself\");\n  });\n});\ntask('selfdepdyn', function () {\n  task('selfdeppar', [], {concurrency: 2}, function () {\n    console.log(\"I will depend on myself and will fail at runtime\");\n  });\n  task('selfdeppar', ['selfdeppar']);\n  jake.Task['selfdeppar'].invoke();\n});\n\nnamespace(\"large\", function () {\n  task(\"leaf\", function () {\n    console.log(\"large:leaf\");\n  });\n\n  const same = [];\n  for (let i = 0; i < 2000; i++) {\n    same.push(\"leaf\");\n  }\n\n  desc(\"Task with a large number of same prereqs\");\n  task(\"same\", same, { concurrency: 2 }, function () {\n    console.log(\"large:same\");\n  });\n\n  const different = [];\n  for (let i = 0; i < 2000; i++) {\n    const name = \"leaf-\" + i;\n    task(name, function () {\n      if (name === \"leaf-12\" || name === \"leaf-123\") {\n        console.log(name);\n      }\n    });\n    different.push(name);\n  }\n\n  desc(\"Task with a large number of different prereqs\");\n  task(\"different\", different, { concurrency: 2 } , function () {\n    console.log(\"large:different\")\n  })\n});\n"]},"metadata":{},"sourceType":"module"}