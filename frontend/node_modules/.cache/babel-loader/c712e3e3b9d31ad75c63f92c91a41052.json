{"ast":null,"code":"const ROOT_NAMESPACE_NAME = '__rootNamespace__';\n\nclass Namespace {\n  constructor(name, parentNamespace) {\n    this.name = name;\n    this.parentNamespace = parentNamespace;\n    this.childNamespaces = {};\n    this.tasks = {};\n    this.rules = {};\n    this.path = this.getPath();\n  }\n\n  get fullName() {\n    return this._getFullName();\n  }\n\n  addTask(task) {\n    this.tasks[task.name] = task;\n    task.namespace = this;\n  }\n\n  resolveTask(name) {\n    if (!name) {\n      return;\n    }\n\n    let taskPath = name.split(':');\n    let taskName = taskPath.pop();\n    let task;\n    let ns; // Namespaced, return either relative to current, or from root\n\n    if (taskPath.length) {\n      taskPath = taskPath.join(':');\n      ns = this.resolveNamespace(taskPath) || Namespace.ROOT_NAMESPACE.resolveNamespace(taskPath);\n      task = ns && ns.resolveTask(taskName);\n    } // Bare task, return either local, or top-level\n    else {\n        task = this.tasks[name] || Namespace.ROOT_NAMESPACE.tasks[name];\n      }\n\n    return task || null;\n  }\n\n  resolveNamespace(relativeName) {\n    if (!relativeName) {\n      return this;\n    }\n\n    let parts = relativeName.split(':');\n    let ns = this;\n\n    for (let i = 0, ii = parts.length; ns && i < ii; i++) {\n      ns = ns.childNamespaces[parts[i]];\n    }\n\n    return ns || null;\n  }\n\n  matchRule(relativeName) {\n    let parts = relativeName.split(':');\n    parts.pop();\n    let ns = this.resolveNamespace(parts.join(':'));\n    let rules = ns ? ns.rules : [];\n    let r;\n    let match;\n\n    for (let p in rules) {\n      r = rules[p];\n\n      if (r.match(relativeName)) {\n        match = r;\n      }\n    }\n\n    return ns && match || this.parentNamespace && this.parentNamespace.matchRule(relativeName);\n  }\n\n  getPath() {\n    let parts = [];\n    let next = this.parentNamespace;\n\n    while (next) {\n      parts.push(next.name);\n      next = next.parentNamespace;\n    }\n\n    parts.pop(); // Remove '__rootNamespace__'\n\n    return parts.reverse().join(':');\n  }\n\n  _getFullName() {\n    let path = this.path;\n    path = path && path.split(':') || [];\n    path.push(this.name);\n    return path.join(':');\n  }\n\n  isRootNamespace() {\n    return !this.parentNamespace;\n  }\n\n}\n\nclass RootNamespace extends Namespace {\n  constructor() {\n    super(ROOT_NAMESPACE_NAME, null);\n    Namespace.ROOT_NAMESPACE = this;\n  }\n\n}\n\nmodule.exports.Namespace = Namespace;\nmodule.exports.RootNamespace = RootNamespace;","map":{"version":3,"sources":["C:/Users/anafe/OneDrive/Documentos/projeto_com_react2/src/backend/node/node_modules/jake/lib/namespace.js"],"names":["ROOT_NAMESPACE_NAME","Namespace","constructor","name","parentNamespace","childNamespaces","tasks","rules","path","getPath","fullName","_getFullName","addTask","task","namespace","resolveTask","taskPath","split","taskName","pop","ns","length","join","resolveNamespace","ROOT_NAMESPACE","relativeName","parts","i","ii","matchRule","r","match","p","next","push","reverse","isRootNamespace","RootNamespace","module","exports"],"mappings":"AAAA,MAAMA,mBAAmB,GAAG,mBAA5B;;AAEA,MAAMC,SAAN,CAAgB;AACdC,EAAAA,WAAW,CAACC,IAAD,EAAOC,eAAP,EAAwB;AACjC,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,eAAL,GAAuBA,eAAvB;AACA,SAAKC,eAAL,GAAuB,EAAvB;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,IAAL,GAAY,KAAKC,OAAL,EAAZ;AACD;;AAED,MAAIC,QAAJ,GAAe;AACb,WAAO,KAAKC,YAAL,EAAP;AACD;;AAEDC,EAAAA,OAAO,CAACC,IAAD,EAAO;AACZ,SAAKP,KAAL,CAAWO,IAAI,CAACV,IAAhB,IAAwBU,IAAxB;AACAA,IAAAA,IAAI,CAACC,SAAL,GAAiB,IAAjB;AACD;;AAEDC,EAAAA,WAAW,CAACZ,IAAD,EAAO;AAChB,QAAI,CAACA,IAAL,EAAW;AACT;AACD;;AAED,QAAIa,QAAQ,GAAGb,IAAI,CAACc,KAAL,CAAW,GAAX,CAAf;AACA,QAAIC,QAAQ,GAAGF,QAAQ,CAACG,GAAT,EAAf;AACA,QAAIN,IAAJ;AACA,QAAIO,EAAJ,CARgB,CAUhB;;AACA,QAAIJ,QAAQ,CAACK,MAAb,EAAqB;AACnBL,MAAAA,QAAQ,GAAGA,QAAQ,CAACM,IAAT,CAAc,GAAd,CAAX;AACAF,MAAAA,EAAE,GAAG,KAAKG,gBAAL,CAAsBP,QAAtB,KACHf,SAAS,CAACuB,cAAV,CAAyBD,gBAAzB,CAA0CP,QAA1C,CADF;AAEAH,MAAAA,IAAI,GAAIO,EAAE,IAAIA,EAAE,CAACL,WAAH,CAAeG,QAAf,CAAd;AACD,KALD,CAMA;AANA,SAOK;AACHL,QAAAA,IAAI,GAAG,KAAKP,KAAL,CAAWH,IAAX,KAAoBF,SAAS,CAACuB,cAAV,CAAyBlB,KAAzB,CAA+BH,IAA/B,CAA3B;AACD;;AAED,WAAOU,IAAI,IAAI,IAAf;AACD;;AAGDU,EAAAA,gBAAgB,CAACE,YAAD,EAAe;AAC7B,QAAI,CAACA,YAAL,EAAmB;AACjB,aAAO,IAAP;AACD;;AAED,QAAIC,KAAK,GAAGD,YAAY,CAACR,KAAb,CAAmB,GAAnB,CAAZ;AACA,QAAIG,EAAE,GAAG,IAAT;;AAEA,SAAK,IAAIO,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGF,KAAK,CAACL,MAA3B,EAAoCD,EAAE,IAAIO,CAAC,GAAGC,EAA9C,EAAmDD,CAAC,EAApD,EAAwD;AACtDP,MAAAA,EAAE,GAAGA,EAAE,CAACf,eAAH,CAAmBqB,KAAK,CAACC,CAAD,CAAxB,CAAL;AACD;;AAED,WAAOP,EAAE,IAAI,IAAb;AACD;;AAEDS,EAAAA,SAAS,CAACJ,YAAD,EAAe;AACtB,QAAIC,KAAK,GAAGD,YAAY,CAACR,KAAb,CAAmB,GAAnB,CAAZ;AACAS,IAAAA,KAAK,CAACP,GAAN;AACA,QAAIC,EAAE,GAAG,KAAKG,gBAAL,CAAsBG,KAAK,CAACJ,IAAN,CAAW,GAAX,CAAtB,CAAT;AACA,QAAIf,KAAK,GAAGa,EAAE,GAAGA,EAAE,CAACb,KAAN,GAAc,EAA5B;AACA,QAAIuB,CAAJ;AACA,QAAIC,KAAJ;;AAEA,SAAK,IAAIC,CAAT,IAAczB,KAAd,EAAqB;AACnBuB,MAAAA,CAAC,GAAGvB,KAAK,CAACyB,CAAD,CAAT;;AACA,UAAIF,CAAC,CAACC,KAAF,CAAQN,YAAR,CAAJ,EAA2B;AACzBM,QAAAA,KAAK,GAAGD,CAAR;AACD;AACF;;AAED,WAAQV,EAAE,IAAIW,KAAP,IACF,KAAK3B,eAAL,IACD,KAAKA,eAAL,CAAqByB,SAArB,CAA+BJ,YAA/B,CAFJ;AAGD;;AAEDhB,EAAAA,OAAO,GAAG;AACR,QAAIiB,KAAK,GAAG,EAAZ;AACA,QAAIO,IAAI,GAAG,KAAK7B,eAAhB;;AACA,WAAO6B,IAAP,EAAa;AACXP,MAAAA,KAAK,CAACQ,IAAN,CAAWD,IAAI,CAAC9B,IAAhB;AACA8B,MAAAA,IAAI,GAAGA,IAAI,CAAC7B,eAAZ;AACD;;AACDsB,IAAAA,KAAK,CAACP,GAAN,GAPQ,CAOK;;AACb,WAAOO,KAAK,CAACS,OAAN,GAAgBb,IAAhB,CAAqB,GAArB,CAAP;AACD;;AAEDX,EAAAA,YAAY,GAAG;AACb,QAAIH,IAAI,GAAG,KAAKA,IAAhB;AACAA,IAAAA,IAAI,GAAIA,IAAI,IAAIA,IAAI,CAACS,KAAL,CAAW,GAAX,CAAT,IAA6B,EAApC;AACAT,IAAAA,IAAI,CAAC0B,IAAL,CAAU,KAAK/B,IAAf;AACA,WAAOK,IAAI,CAACc,IAAL,CAAU,GAAV,CAAP;AACD;;AAEDc,EAAAA,eAAe,GAAG;AAChB,WAAO,CAAC,KAAKhC,eAAb;AACD;;AApGa;;AAuGhB,MAAMiC,aAAN,SAA4BpC,SAA5B,CAAsC;AACpCC,EAAAA,WAAW,GAAG;AACZ,UAAMF,mBAAN,EAA2B,IAA3B;AACAC,IAAAA,SAAS,CAACuB,cAAV,GAA2B,IAA3B;AACD;;AAJmC;;AAOtCc,MAAM,CAACC,OAAP,CAAetC,SAAf,GAA2BA,SAA3B;AACAqC,MAAM,CAACC,OAAP,CAAeF,aAAf,GAA+BA,aAA/B","sourcesContent":["const ROOT_NAMESPACE_NAME = '__rootNamespace__';\n\nclass Namespace {\n  constructor(name, parentNamespace) {\n    this.name = name;\n    this.parentNamespace = parentNamespace;\n    this.childNamespaces = {};\n    this.tasks = {};\n    this.rules = {};\n    this.path = this.getPath();\n  }\n\n  get fullName() {\n    return this._getFullName();\n  }\n\n  addTask(task) {\n    this.tasks[task.name] = task;\n    task.namespace = this;\n  }\n\n  resolveTask(name) {\n    if (!name) {\n      return;\n    }\n\n    let taskPath = name.split(':');\n    let taskName = taskPath.pop();\n    let task;\n    let ns;\n\n    // Namespaced, return either relative to current, or from root\n    if (taskPath.length) {\n      taskPath = taskPath.join(':');\n      ns = this.resolveNamespace(taskPath) ||\n        Namespace.ROOT_NAMESPACE.resolveNamespace(taskPath);\n      task = (ns && ns.resolveTask(taskName));\n    }\n    // Bare task, return either local, or top-level\n    else {\n      task = this.tasks[name] || Namespace.ROOT_NAMESPACE.tasks[name];\n    }\n\n    return task || null;\n  }\n\n\n  resolveNamespace(relativeName) {\n    if (!relativeName) {\n      return this;\n    }\n\n    let parts = relativeName.split(':');\n    let ns = this;\n\n    for (let i = 0, ii = parts.length; (ns && i < ii); i++) {\n      ns = ns.childNamespaces[parts[i]];\n    }\n\n    return ns || null;\n  }\n\n  matchRule(relativeName) {\n    let parts = relativeName.split(':');\n    parts.pop();\n    let ns = this.resolveNamespace(parts.join(':'));\n    let rules = ns ? ns.rules : [];\n    let r;\n    let match;\n\n    for (let p in rules) {\n      r = rules[p];\n      if (r.match(relativeName)) {\n        match = r;\n      }\n    }\n\n    return (ns && match) ||\n        (this.parentNamespace &&\n        this.parentNamespace.matchRule(relativeName));\n  }\n\n  getPath() {\n    let parts = [];\n    let next = this.parentNamespace;\n    while (next) {\n      parts.push(next.name);\n      next = next.parentNamespace;\n    }\n    parts.pop(); // Remove '__rootNamespace__'\n    return parts.reverse().join(':');\n  }\n\n  _getFullName() {\n    let path = this.path;\n    path = (path && path.split(':')) || [];\n    path.push(this.name);\n    return path.join(':');\n  }\n\n  isRootNamespace() {\n    return !this.parentNamespace;\n  }\n}\n\nclass RootNamespace extends Namespace {\n  constructor() {\n    super(ROOT_NAMESPACE_NAME, null);\n    Namespace.ROOT_NAMESPACE = this;\n  }\n}\n\nmodule.exports.Namespace = Namespace;\nmodule.exports.RootNamespace = RootNamespace;\n\n"]},"metadata":{},"sourceType":"module"}