{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\react_front_avan\\xE7ado\\\\frontend\\\\src\\\\componentes\\\\paginas\\\\contato.js\";\nimport React, { lazy, Suspense } from 'react';\nimport { connect } from \"react-redux\";\nimport { inserir } from './../../actions/mensagens';\nimport { passe_livre, passe_negado } from './../../actions/passe';\nconst Formascontatos = /*#__PURE__*/lazy(_c = () => import('./../formas_contatos'));\n_c2 = Formascontatos;\n\nconst estados = states => {\n  return {\n    mensagens: states.mensagens,\n    passe: states.passe\n  };\n};\n\nconst funcoes = () => {\n  return {\n    inserir,\n    passe_livre,\n    passe_negado\n  };\n};\n\nclass Contato extends React.Component {\n  constructor(props) {\n    super(props);\n    this.enviarMensagem = this.enviarMensagem.bind(this);\n  }\n\n  async componentDidMount() {\n    if (this.props.passe) {\n      const resposta = await fetch('http://localhost:8080/pegar_mensagens');\n      const json = await resposta.json();\n      this.props.inserir(json);\n      this.props.passe_negado();\n    }\n  }\n\n  async enviarMensagem(elemento) {\n    elemento.preventDefault();\n    const url = \"http://localhost:8080/mensagens\";\n    const dado = new FormData(elemento.target);\n    let json = {};\n    dado.forEach((valor, chave) => {\n      json[chave] = valor;\n    });\n    const cabecalho = {\n      method: \"post\",\n      body: JSON.stringify(json),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    await fetch(url, cabecalho);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Espere um momento....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 35\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Formascontatos, {\n        enviarMensagem: this.enviarMensagem,\n        passe_livre: this.props.passe_livre,\n        me: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default connect(estados, funcoes())(Contato);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Formascontatos$lazy\");\n$RefreshReg$(_c2, \"Formascontatos\");","map":{"version":3,"sources":["C:/xampp/htdocs/react_front_avanÃ§ado/frontend/src/componentes/paginas/contato.js"],"names":["React","lazy","Suspense","connect","inserir","passe_livre","passe_negado","Formascontatos","estados","states","mensagens","passe","funcoes","Contato","Component","constructor","props","enviarMensagem","bind","componentDidMount","resposta","fetch","json","elemento","preventDefault","url","dado","FormData","target","forEach","valor","chave","cabecalho","method","body","JSON","stringify","headers","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,IAAf,EAAoBC,QAApB,QAAmC,OAAnC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,OAAR,QAAsB,2BAAtB;AACA,SAAQC,WAAR,EAAqBC,YAArB,QAAwC,uBAAxC;AAEA,MAAMC,cAAc,gBAAGN,IAAI,MAAC,MAAM,OAAO,sBAAP,CAAP,CAA3B;MAAMM,c;;AAEN,MAAMC,OAAO,GAAIC,MAAD,IAAW;AACvB,SAAM;AACFC,IAAAA,SAAS,EAAED,MAAM,CAACC,SADhB;AAEFC,IAAAA,KAAK,EAAEF,MAAM,CAACE;AAFZ,GAAN;AAIH,CALD;;AAOA,MAAMC,OAAO,GAAG,MAAK;AACjB,SAAO;AACHR,IAAAA,OADG;AAEHC,IAAAA,WAFG;AAGHC,IAAAA;AAHG,GAAP;AAKH,CAND;;AAQA,MAAMO,OAAN,SAAsBb,KAAK,CAACc,SAA5B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,cAAL,GAAoB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAApB;AACH;;AACD,QAAMC,iBAAN,GAAyB;AACrB,QAAI,KAAKH,KAAL,CAAWL,KAAf,EAAqB;AACjB,YAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAE,uCAAF,CAA5B;AACA,YAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;AACA,WAAKN,KAAL,CAAWZ,OAAX,CAAmBkB,IAAnB;AACA,WAAKN,KAAL,CAAWV,YAAX;AACH;AAEJ;;AACD,QAAMW,cAAN,CAAqBM,QAArB,EAA8B;AAC1BA,IAAAA,QAAQ,CAACC,cAAT;AACA,UAAMC,GAAG,GAAG,iCAAZ;AACA,UAAMC,IAAI,GAAG,IAAIC,QAAJ,CAAaJ,QAAQ,CAACK,MAAtB,CAAb;AACA,QAAIN,IAAI,GAAG,EAAX;AACAI,IAAAA,IAAI,CAACG,OAAL,CAAa,CAACC,KAAD,EAAQC,KAAR,KAAiB;AAC1BT,MAAAA,IAAI,CAAES,KAAF,CAAJ,GAAeD,KAAf;AAEH,KAHD;AAKA,UAAME,SAAS,GAAG;AACdC,MAAAA,MAAM,EAAE,MADM;AAEdC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAed,IAAf,CAFQ;AAGde,MAAAA,OAAO,EAAC;AACJ,wBAAiB;AADb;AAHM,KAAlB;AAOA,UAAMhB,KAAK,CAAEI,GAAF,EAAOO,SAAP,CAAX;AACH;;AAEDM,EAAAA,MAAM,GAAE;AACJ,wBACI,QAAC,QAAD;AAAU,MAAA,QAAQ,eAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAtB;AAAA,6BACI,QAAC,cAAD;AAAgB,QAAA,cAAc,EAAI,KAAKrB,cAAvC;AAAuD,QAAA,WAAW,EAAI,KAAKD,KAAL,CAAWX,WAAjF;AAA8F,QAAA,EAAE;AAAhG;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AAxCgC;;AA0CrC,eAAeF,OAAO,CAACK,OAAD,EAAUI,OAAO,EAAjB,CAAP,CAA4BC,OAA5B,CAAf","sourcesContent":["import React, {lazy,Suspense} from 'react';\nimport {connect} from \"react-redux\";\nimport {inserir} from './../../actions/mensagens';\nimport {passe_livre, passe_negado} from './../../actions/passe';\n\nconst Formascontatos = lazy(() => import('./../formas_contatos'));\n\nconst estados = (states) =>{\n    return{\n        mensagens: states.mensagens,\n        passe: states.passe\n    }\n}\n\nconst funcoes = () =>{\n    return {\n        inserir,\n        passe_livre,\n        passe_negado\n    }\n}\n\nclass Contato extends React.Component{\n    constructor(props){\n        super(props);\n        this.enviarMensagem=this.enviarMensagem.bind(this);\n    }\n    async componentDidMount(){\n        if (this.props.passe){\n            const resposta = await fetch ('http://localhost:8080/pegar_mensagens');\n            const json = await resposta.json ();\n            this.props.inserir(json)\n            this.props.passe_negado()\n        }\n       \n    }\n    async enviarMensagem(elemento){\n        elemento.preventDefault();\n        const url = \"http://localhost:8080/mensagens\";\n        const dado = new FormData(elemento.target);\n        let json = {};\n        dado.forEach((valor, chave) =>{\n            json [chave] = valor;\n\n        });\n\n        const cabecalho = {\n            method: \"post\",\n            body: JSON.stringify(json),\n            headers:{\n                'Content-Type' : 'application/json'\n            }\n        }\n        await fetch (url, cabecalho);\n    }\n\n    render(){\n        return(\n            <Suspense fallback ={ <h1>Espere um momento....</h1> }>\n                <Formascontatos enviarMensagem = {this.enviarMensagem} passe_livre = {this.props.passe_livre} me/>\n            </Suspense>\n        )\n    }\n}\nexport default connect(estados, funcoes())(Contato)"]},"metadata":{},"sourceType":"module"}