{"ast":null,"code":"/*\n * Jake JavaScript build tool\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\nconst PROJECT_DIR = process.env.PROJECT_DIR;\n\nlet fs = require('fs');\n\nlet {\n  publishTask,\n  rmRf,\n  mkdirP\n} = require(`${PROJECT_DIR}/lib/jake`);\n\nfs.writeFileSync('package.json', '{\"version\": \"0.0.1\"}');\nmkdirP('tmp_publish');\nfs.writeFileSync('tmp_publish/foo.txt', 'FOO');\npublishTask('zerb', function () {\n  this.packageFiles.include(['package.json', 'tmp_publish/**']);\n  this.publishCmd = 'node -p -e \"\\'%filename\\'\"';\n  this.gitCmd = 'echo';\n  this.scheduleDelay = 0;\n\n  this._ensureRepoClean = function () {};\n\n  this._getCurrentBranch = function () {\n    return 'v0.0';\n  };\n});\njake.setTaskTimeout(5000);\njake.Task['publish'].on('complete', function () {\n  rmRf('tmp_publish', {\n    silent: true\n  });\n  rmRf('package.json', {\n    silent: true\n  });\n});","map":{"version":3,"sources":["C:/Users/anafe/OneDrive/Documentos/projeto_com_react2/src/backend/node/node_modules/jake/test/integration/jakelib/publish.jake.js"],"names":["PROJECT_DIR","process","env","fs","require","publishTask","rmRf","mkdirP","writeFileSync","packageFiles","include","publishCmd","gitCmd","scheduleDelay","_ensureRepoClean","_getCurrentBranch","jake","setTaskTimeout","Task","on","silent"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMA,WAAW,GAAGC,OAAO,CAACC,GAAR,CAAYF,WAAhC;;AAEA,IAAIG,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAI;AAAEC,EAAAA,WAAF;AAAeC,EAAAA,IAAf;AAAqBC,EAAAA;AAArB,IAAgCH,OAAO,CAAE,GAAEJ,WAAY,WAAhB,CAA3C;;AAEAG,EAAE,CAACK,aAAH,CAAiB,cAAjB,EAAiC,sBAAjC;AACAD,MAAM,CAAC,aAAD,CAAN;AACAJ,EAAE,CAACK,aAAH,CAAiB,qBAAjB,EAAwC,KAAxC;AAEAH,WAAW,CAAC,MAAD,EAAS,YAAY;AAC9B,OAAKI,YAAL,CAAkBC,OAAlB,CAA0B,CACxB,cADwB,EAEtB,gBAFsB,CAA1B;AAIA,OAAKC,UAAL,GAAkB,4BAAlB;AACA,OAAKC,MAAL,GAAc,MAAd;AACA,OAAKC,aAAL,GAAqB,CAArB;;AAEA,OAAKC,gBAAL,GAAwB,YAAY,CAAE,CAAtC;;AACA,OAAKC,iBAAL,GAAyB,YAAY;AACnC,WAAO,MAAP;AACD,GAFD;AAGD,CAbU,CAAX;AAeAC,IAAI,CAACC,cAAL,CAAoB,IAApB;AAEAD,IAAI,CAACE,IAAL,CAAU,SAAV,EAAqBC,EAArB,CAAwB,UAAxB,EAAoC,YAAY;AAC9Cb,EAAAA,IAAI,CAAC,aAAD,EAAgB;AAACc,IAAAA,MAAM,EAAE;AAAT,GAAhB,CAAJ;AACAd,EAAAA,IAAI,CAAC,cAAD,EAAiB;AAACc,IAAAA,MAAM,EAAE;AAAT,GAAjB,CAAJ;AACD,CAHD","sourcesContent":["/*\n * Jake JavaScript build tool\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\nconst PROJECT_DIR = process.env.PROJECT_DIR;\n\nlet fs = require('fs');\nlet { publishTask, rmRf, mkdirP } = require(`${PROJECT_DIR}/lib/jake`);\n\nfs.writeFileSync('package.json', '{\"version\": \"0.0.1\"}');\nmkdirP('tmp_publish');\nfs.writeFileSync('tmp_publish/foo.txt', 'FOO');\n\npublishTask('zerb', function () {\n  this.packageFiles.include([\n    'package.json'\n    , 'tmp_publish/**'\n  ]);\n  this.publishCmd = 'node -p -e \"\\'%filename\\'\"';\n  this.gitCmd = 'echo'\n  this.scheduleDelay = 0;\n\n  this._ensureRepoClean = function () {};\n  this._getCurrentBranch = function () {\n    return 'v0.0'\n  };\n});\n\njake.setTaskTimeout(5000);\n\njake.Task['publish'].on('complete', function () {\n  rmRf('tmp_publish', {silent: true});\n  rmRf('package.json', {silent: true});\n});\n\n"]},"metadata":{},"sourceType":"module"}